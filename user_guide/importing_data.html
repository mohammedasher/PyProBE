
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Importing Data &#8212; PyProBE  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/importing_data';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Accessing Data" href="accessing_data.html" />
    <link rel="prev" title="Installation" href="installation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">PyProBE  documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="user_guide.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/examples.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../developer_guide/developer_guide.html">
    Developer Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/modules.html">
    pyprobe
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="user_guide.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/examples.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../developer_guide/developer_guide.html">
    Developer Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/modules.html">
    pyprobe
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Importing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="accessing_data.html">Accessing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_data_guidance.html">Input Data Guidance</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_a_readme_file.html">Writing a README file</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_an_experiment_record.html">Writing an Experiment record</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="user_guide.html" class="nav-link">User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Importing Data</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="importing-data">
<h1>Importing Data<a class="headerlink" href="#importing-data" title="Link to this heading">#</a></h1>
<section id="making-a-cell-object">
<h2>Making a cell object<a class="headerlink" href="#making-a-cell-object" title="Link to this heading">#</a></h2>
<p>PyProBE stores all experimental data and information in a <a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.Cell" title="pyprobe.cell.Cell"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyprobe.cell.Cell</span></code></a>
object. It has two main attributes:</p>
<ul class="simple">
<li><p>a dictionary of cell details and experimental info (<a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.Cell.info" title="pyprobe.cell.Cell.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pyprobe.cell.Cell.info</span></code></a>)</p></li>
<li><p>a dictionary of experimental procedures performed on the cell (<a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.Cell.procedure" title="pyprobe.cell.Cell.procedure"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pyprobe.cell.Cell.procedure</span></code></a>).</p></li>
</ul>
<p>A cell object can be created by providing an info dictionary as a keyword argument to
<code class="docutils literal notranslate"><span class="pre">info</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyprobe</span>

<span class="c1"># Describe the cell. Required fields are &#39;Name&#39;.</span>
<span class="n">info_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Sample cell&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Chemistry&#39;</span><span class="p">:</span> <span class="s1">&#39;NMC622&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Nominal Capacity [Ah]&#39;</span><span class="p">:</span> <span class="mf">0.04</span><span class="p">,</span>
                   <span class="s1">&#39;Cycler number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                   <span class="s1">&#39;Channel number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,}</span>

<span class="c1"># Create a cell object</span>
<span class="n">cell</span> <span class="o">=</span> <span class="n">pyprobe</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">info</span> <span class="o">=</span> <span class="n">info_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">info</span></code> dictionary can contain any number of key-value pairs. The only required key is
<code class="docutils literal notranslate"><span class="pre">'Name'</span></code>, which is used to identify the cell in plots. PyProBE will verify that the
<code class="docutils literal notranslate"><span class="pre">info</span></code> dictionary contains the <code class="docutils literal notranslate"><span class="pre">'Name'</span></code> field. If it does not, it will fill this field with
<code class="docutils literal notranslate"><span class="pre">'Default</span> <span class="pre">Name'</span></code>.</p>
</section>
<section id="converting-data-to-pyprobe-format">
<h2>Converting data to PyProBE Format<a class="headerlink" href="#converting-data-to-pyprobe-format" title="Link to this heading">#</a></h2>
<p>PyProBE defines a Procedure as a dataset collected from a single run of an experimental
protocol created on a battery cycler. Throughout its life, a cell will likely undergo
multiple procedures, such as beginning-of-life testing, degradation cycles, reference
performance tests (RPTs) etc.</p>
<p>Before adding data to a cell object, it must be converted into the PyProBE standard
format. This is done with the <a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.Cell.process_cycler_file" title="pyprobe.cell.Cell.process_cycler_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">process_cycler_file()</span></code></a> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># From the previously created cell instance</span>
<span class="n">cell</span><span class="o">.</span><span class="n">process_cycler_file</span><span class="p">(</span><span class="n">cycler</span> <span class="o">=</span> <span class="s1">&#39;neware&#39;</span><span class="p">,</span>
                         <span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/root_folder/experiment_folder&#39;</span><span class="p">,</span>
                         <span class="n">input_filename</span> <span class="o">=</span> <span class="s1">&#39;cycler_file.csv&#39;</span><span class="p">,</span>
                         <span class="n">output_filename</span> <span class="o">=</span> <span class="s1">&#39;processed_cycler_file.parquet&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Your parquet file will be saved in the same directory (<code class="code docutils literal notranslate"><span class="pre">folder_path</span></code>) as the input
file. Once converted into this format, PyProBE is agnostic to cycler manufacturer
and model. For more details on the PyProBE standard format, and an up-to-date list of
supported cyclers, see the <a class="reference internal" href="input_data_guidance.html#input-data-guidance"><span class="std std-ref">Input Data Guidance</span></a> section.</p>
</section>
<section id="working-with-multiple-input-files">
<h2>Working with multiple input files<a class="headerlink" href="#working-with-multiple-input-files" title="Link to this heading">#</a></h2>
<p>Some cyclers may output data in multiple files. For example, BioLogic Modulo Bat
procedures. Assuming the data is all in the same folder, PyProBE is able to collect all
of the files and process them into a single parquet file. This is done by providing a
<code class="code docutils literal notranslate"><span class="pre">*</span></code> wildcard in the <code class="code docutils literal notranslate"><span class="pre">input_filename</span></code> argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># From the previously created cell instance</span>
<span class="n">cell</span><span class="o">.</span><span class="n">process_cycler_file</span><span class="p">(</span><span class="n">cycler</span> <span class="o">=</span> <span class="s1">&#39;neware&#39;</span><span class="p">,</span>
                         <span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/root_folder/experiment_folder&#39;</span><span class="p">,</span>
                         <span class="n">input_filename</span> <span class="o">=</span> <span class="s1">&#39;cycler_file*.csv&#39;</span><span class="p">,</span>
                         <span class="n">output_filename</span> <span class="o">=</span> <span class="s1">&#39;processed_cycler_file.parquet&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will process all files in the folder that match the pattern
<code class="code docutils literal notranslate"><span class="pre">cycler_file*.csv</span></code>, e.g. <code class="code docutils literal notranslate"><span class="pre">cycler_file_1.csv</span></code>, <code class="code docutils literal notranslate"><span class="pre">cycler_file_2.csv</span></code>,
etc.</p>
<p>The Biologic Modulo Bat format has its own reader <code class="docutils literal notranslate"><span class="pre">'biologic_MB'</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cell</span><span class="o">.</span><span class="n">process_cycler_file</span><span class="p">(</span><span class="n">cycler</span> <span class="o">=</span> <span class="s1">&#39;biologic_MB&#39;</span><span class="p">,</span>
                         <span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/root_folder/experiment_folder&#39;</span><span class="p">,</span>
                         <span class="n">input_filename</span> <span class="o">=</span> <span class="s1">&#39;cycler_file_*_MB.mpt&#39;</span><span class="p">,</span>
                         <span class="n">output_filename</span> <span class="o">=</span> <span class="s1">&#39;processed_cycler_file.parquet&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="adding-data-to-a-cell-object">
<span id="adding-data-to-cell"></span><h2>Adding data to a cell object<a class="headerlink" href="#adding-data-to-a-cell-object" title="Link to this heading">#</a></h2>
<p>For data to be imported into PyProBE, there must be a corresponding <code class="code docutils literal notranslate"><span class="pre">README.yaml</span></code>
file in the same directory as the data file. This file contains details of the
experimental procedure that generated the data. See the <a class="reference internal" href="writing_a_readme_file.html#writing-a-readme-file"><span class="std std-ref">Writing a README file</span></a>
section for guidance.</p>
<p>A data file in the standard PyProBE format can be added to a cell object using the
<a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.Cell.add_procedure" title="pyprobe.cell.Cell.add_procedure"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_procedure()</span></code></a> method. A procedure must be given a name when
it is imported. Choose something descriptive, so it is easy to distinguish between
different procedures that have been run on the same cell.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add the processed data to the cell object</span>
<span class="n">cell</span><span class="o">.</span><span class="n">add_procedure</span><span class="p">(</span><span class="n">procedure_name</span> <span class="o">=</span> <span class="s1">&#39;Example procedure&#39;</span><span class="p">,</span>
                   <span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/root_folder/experiment_folder&#39;</span><span class="p">,</span>
                   <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;processed_cycler_file.parquet&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Any number of procedures can be added to a cell, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add the first procedure</span>
<span class="n">cell</span><span class="o">.</span><span class="n">add_procedure</span><span class="p">(</span><span class="n">procedure_name</span> <span class="o">=</span> <span class="s1">&#39;Cycling&#39;</span><span class="p">,</span>
                   <span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/root_folder/experiment_folder&#39;</span><span class="p">,</span>
                   <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;processed_cycler_file_cycling.parquet&#39;</span><span class="p">)</span>

<span class="c1"># Add the second procedure</span>
<span class="n">cell</span><span class="o">.</span><span class="n">add_procedure</span><span class="p">(</span><span class="n">procedure_name</span> <span class="o">=</span> <span class="s1">&#39;RPT&#39;</span><span class="p">,</span>
                   <span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/root_folder/experiment_folder&#39;</span><span class="p">,</span>
                   <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;processed_cycler_file_RPT.parquet&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">procedure</span><span class="p">)</span>
<span class="c1"># Returns: dict({&#39;Cycling&#39;: &lt;pyprobe.procedure.Procedure object…, &#39;RPT&#39;: &lt;pyprobe.procedure.Procedure object…})</span>
</pre></div>
</div>
</section>
<section id="batch-preprocessing">
<h2>Batch preprocessing<a class="headerlink" href="#batch-preprocessing" title="Link to this heading">#</a></h2>
<p>If you have multiple cells undergoing the same experimental procedures, you can use the
built-in batch processing functionality in PyProBE to speed up your workflow. You must
first create a list of <a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.Cell" title="pyprobe.cell.Cell"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Cell</span></code></a> objects.</p>
<p>The fastest way to do this is to store an Experiment Record alongside your data. This is
an Excel file that contains important experimental information about your cells and the
procedures they have undergone. See the <a class="reference internal" href="writing_an_experiment_record.html#writing-an-experiment-record"><span class="std std-ref">Writing an Experiment record</span></a> section for
guidance.</p>
<p>Once you have an Experiment Record, you can create a list of cells using the
<a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.make_cell_list" title="pyprobe.cell.make_cell_list"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_cell_list()</span></code></a> function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cell_list</span> <span class="o">=</span> <span class="n">pyprobe</span><span class="o">.</span><span class="n">make_cell_list</span><span class="p">(</span><span class="n">record_filepath</span> <span class="o">=</span> <span class="s1">&#39;path/to/experiment_record.xlsx&#39;</span><span class="p">,</span>
                                   <span class="n">worksheet_name</span> <span class="o">=</span> <span class="s1">&#39;Sample experiment&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This function creates a list of cells, where the <a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.Cell.info" title="pyprobe.cell.Cell.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a>
dictionary is populated with the information from the Experiment Record.</p>
<p>You can then add procedures to each cell in the list.
<a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.Cell.add_procedure" title="pyprobe.cell.Cell.add_procedure"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_procedure()</span></code></a> includes the functionality to do this
parametrically. The steps are as follows:</p>
<ol class="arabic simple">
<li><p>Define a function that generates the filename for each cell.</p></li>
<li><p>Assign the filename generator function to the <code class="code docutils literal notranslate"><span class="pre">filename</span></code> argument in
<a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.Cell.add_procedure" title="pyprobe.cell.Cell.add_procedure"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_procedure()</span></code></a>.</p></li>
<li><p>Provide the inputs to the filename generator function in the
<code class="code docutils literal notranslate"><span class="pre">filename_inputs</span></code> argument. The order of the inputs must match the order of the
arguments in the filename generator function. These inputs must be keys of the
<a class="reference internal" href="../api/pyprobe.cell.html#pyprobe.cell.Cell.info" title="pyprobe.cell.Cell.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> dictionary. This means that they are likely to be
column names in the Experiment Record Excel file.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define functions that generates the filename for each cell</span>
<span class="k">def</span> <span class="nf">input_name_generator</span><span class="p">(</span><span class="n">cycler</span><span class="p">,</span> <span class="n">channel</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;cycler_file_</span><span class="si">{</span><span class="n">cycler</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s1">.csv&#39;</span>

<span class="k">def</span> <span class="nf">output_name_generator</span><span class="p">(</span><span class="n">cycler</span><span class="p">,</span> <span class="n">channel</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;processed_cycler_file_</span><span class="si">{</span><span class="n">cycler</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s1">.parquet&#39;</span>

<span class="c1"># Convert the data to PyProBE format and add the procedure to each cell in the list</span>
<span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">cell_list</span><span class="p">:</span>
    <span class="n">cell</span><span class="o">.</span><span class="n">process_cycler_file</span><span class="p">(</span><span class="n">cycler</span> <span class="o">=</span> <span class="s1">&#39;neware&#39;</span><span class="p">,</span>
                             <span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/root_folder/experiment_folder&#39;</span><span class="p">,</span>
                             <span class="n">input_filename</span> <span class="o">=</span> <span class="n">input_name_generator</span><span class="p">,</span>
                             <span class="n">output_filename</span> <span class="o">=</span> <span class="n">output_name_generator</span><span class="p">,</span>
                             <span class="n">filename_inputs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Cycler&quot;</span><span class="p">,</span> <span class="s2">&quot;Channel&quot;</span><span class="p">])</span>

    <span class="n">cell</span><span class="o">.</span><span class="n">add_procedure</span><span class="p">(</span><span class="n">procedure_name</span> <span class="o">=</span> <span class="s1">&#39;Cycling&#39;</span><span class="p">,</span>
                       <span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/root_folder/experiment_folder&#39;</span><span class="p">,</span>
                       <span class="n">filename</span> <span class="o">=</span> <span class="n">output_name_generator</span><span class="p">,</span>
                       <span class="n">filename_inputs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Cycler&quot;</span><span class="p">,</span> <span class="s2">&quot;Channel&quot;</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="adding-data-not-from-a-cycler">
<h2>Adding data not from a cycler<a class="headerlink" href="#adding-data-not-from-a-cycler" title="Link to this heading">#</a></h2>
<p>In your battery experiment, it is likely that you will be collecting data from sources
additional to your battery cycler. This can be added to your <a class="reference internal" href="../api/pyprobe.filters.html#pyprobe.filters.Procedure" title="pyprobe.filters.Procedure"><code class="xref py py-class docutils literal notranslate"><span class="pre">Procedure</span></code></a>
object after it has been created with its <a class="reference internal" href="../api/pyprobe.filters.html#pyprobe.filters.Procedure.add_external_data" title="pyprobe.filters.Procedure.add_external_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_external_data()</span></code></a>
method.</p>
<p>The data that you provide must be timeseries, with a column that can be interpreted in
DateTime format. This is usually a string that may appear like: <code class="docutils literal notranslate"><span class="pre">&quot;2024-02-29</span> <span class="pre">09:19:58.554&quot;</span></code>.
PyProBE will interpolate your data into the time series of the cycling data already there,
so it can be filtered as normal.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="installation.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Installation</p>
      </div>
    </a>
    <a class="right-next"
       href="accessing_data.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Accessing Data</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#making-a-cell-object">Making a cell object</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-data-to-pyprobe-format">Converting data to PyProBE Format</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-multiple-input-files">Working with multiple input files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-data-to-a-cell-object">Adding data to a cell object</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#batch-preprocessing">Batch preprocessing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-data-not-from-a-cycler">Adding data not from a cycler</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/user_guide/importing_data.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Thomas Holland, Electrochemical Science and Engineering Group, Imperial College London.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.0.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>